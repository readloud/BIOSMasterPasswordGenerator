<!-- macro ApplicationHead "CMOSSave"
"Save/Restore CMOS to protect you from CMOS corruption"
"CMOS, CMOSSave, CMOSRest, CMOSCheck, BIOS configuration"
icon128/cmossave.png --><!-- generated --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-CA">
<head>
<title>CMOSSave</title>
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="Author" content="Roedy Green, (250) 361-9093 of Canadian Mind Products. For email see contact page.">
<meta name="Copyright" content="Canadian Mind Products 1996-2014">
<meta name="Description" content="Save/Restore CMOS to protect you from CMOS corruption">
<meta name="Generator" content="HTMLMacros with the Compactor">
<meta name="google-translate-customization" content="eeafc7b4b1a680b3-d11c84c20b455a00-g63221b879b657d29-c">
<meta name="Keywords" content="BIOS configuration, CMOS, CMOSCheck, CMOSRest, CMOSSave">
<link href="../mindprod.css" type="text/css" rel="stylesheet" media="all">
<link href="../jdisplay.css" type="text/css" rel="stylesheet" media="all">
<link rel="home" href="../index.html">
<link rel="icon" href="../image/icon16/dukejre.png">
<link rel="alternate" type="application/rss+xml" title="Canadian Mind Products | Java Glossary"
href="http://mindprod.com/rss/jgloss.xml">
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
</head>
<body>
<div class="googlead"><script type="text/javascript">
google_ad_client="ca-pub-7275336356867641";
google_ad_slot="6855185627";
google_ad_width=180;
google_ad_height=150;
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
<div class="googletranslate"><div id="google_translate_element"></div>
<script type="text/javascript">
function googleTranslateElementInit() 
{new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');}
</script>
<script type="text/javascript" src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></div>
<div class="applicationtitlesubsubsection"><a id="TOP"></a><h1><img src="../image/icon128/cmossave.png"
alt="CMOSSave" width="128" height="128" align="middle">&nbsp;&nbsp;<a id="TITLE"></a>CMOSSave</h1></div>
<div class="navbar"><a class="plain" href="../index.html#TITLE"><img src="../image/navigate/home.png"
alt="home page" width="24" height="24" align="middle"></a>
<a class="plain" href="../applet/applets.html"><img src="../image/navigate/up.png"
alt="up" width="21" height="22" align="middle"></a>
<a class="plain" href="#BOTTOM"><img src="../image/navigate/tobottom.png"
alt="jump to foot of page" width="22" height="22" align="middle"></a>
<script type="text/javascript">if (document.URL.indexOf("file:")!=0){document.writeln("<div class=\"g-plusone\"><"+"/div>");}</script><a class="plain" href="http://www.google.com/search?q=CMOSSave"><img src="../image/navigate/googlesearch.png"
alt="Google search web for more information on this topic" width="22" height="22" align="middle"></a></div>
<div class="navbar"><ul class="breadcrumb"><li class="firstbreadcrumb">You are here :</li>
<li><a class="plain" href="../index.html#TITLE">home</a></li>
<li><a class="plain" href="../jgloss/jgloss.html">Java Glossary</a></li>
<li><a class="plain" href="../applet/applets.html">Java Applications</a></li>
<li><span class="term">CMOSSave</span></li>
<li class="lastbreadcrumb">&nbsp;</li></ul></div>
<div class="navbar"><span class="copyright">&copy;<span class="date">1996-2014</span> Roedy Green, Canadian Mind Products</span></div>
<!-- /generated by ApplicationHead -->View the latest version of this manual online at <a class="com" href="http://mindprod.com/utility/cmossave.manual.html">http://mindprod.com/utility/cmossave.manual.html</a>.
<!-- macro Quilt 2 asis gridmenu
{<a class="onpage" href="#INTRODUCTION">Introduction</a>}
{<a class="onpage" href="#AUTHOR">Author</a>}
{<a class="onpage" href="#FREEWARE">Freeware Status</a>}
{<a class="onpage" href="#WARRANTY">Warranty and Support</a>}
{<a class="onpage" href="#LATEST">Getting the Latest Version</a>}
{<a class="onpage" href="#PURPOSE">Purpose</a>}
{<a class="onpage" href="#WHAT">What Is CMOS?</a>}
{<a class="onpage" href="#SYNTAX">Syntax</a>}
{<a class="onpage" href="#HINTS">Hints</a>}
{<a class="onpage" href="#BELT">Belt and Suspenders</a>}
{<a class="onpage" href="#UNDERDOS">Running Under DOS</a>}
{<a class="onpage" href="#HOWWORKS">How It Works</a>}
{<a class="onpage" href="#HOWUSE">How to Use CMOS</a>}
{<a class="onpage" href="#DOSBOOTABLE">DOS Bootable Device</a>}
{<a class="onpage" href="#TROUBLESHOOTING">Troubleshooting</a>}
{<a class="onpage" href="#HELP">Getting Help From Roedy</a>}
{<a class="onpage" href="#VERIFICATION">Verification Fire Drill</a>}
{<a class="onpage" href="#FALSEALARM">False Alarm CMOSChk Corruption Messages</a>}
{<a class="onpage" href="#CRASHED">What If You Have Already Crashed?</a>}
{<a class="onpage" href="#OLDWIN">WINDOWS 95/98/ME</a>}
{<a class="onpage" href="#RECENTWIN">Windows NT/2000/XP/Vista</a>}
{<a class="onpage" href="#LARGECMOS">Modern Large CMOS</a>}
{<a class="onpage" href="#Y2K">Y2K Year <span class="date">2000</span> Compliance</a>}
{<a class="onpage" href="#XT">XT Computers</a>}
{<a class="onpage" href="#REPEATEDFAILURE">Repeated Failures</a>}
{<a class="onpage" href="#OFFSETS">CMOS Offsets. How each byte of CMOS is used</a>}
{<a class="onpage" href="#OFFSETNOTES">CMOS Offset Notes</a>}
{<a class="onpage" href="#MANUFACTURERS">Note to Computer Manufacturers</a>}
{<a class="onpage" href="#EXTENDED">Extended CMOS</a>}
{<a class="onpage" href="#BOOKS">Books</a>} --><!-- generated --><table class="gridmenu" summary="menu"><colgroup><col span="2" width="50%">
</colgroup>
<tbody><tr><td><a class="onpage" href="#INTRODUCTION">Introduction</a></td>
<td><a class="onpage" href="#HELP">Getting Help From Roedy</a></td></tr>
<tr><td><a class="onpage" href="#AUTHOR">Author</a></td>
<td><a class="onpage" href="#VERIFICATION">Verification Fire Drill</a></td></tr>
<tr><td><a class="onpage" href="#FREEWARE">Freeware Status</a></td>
<td><a class="onpage" href="#FALSEALARM">False Alarm CMOSChk Corruption Messages</a></td></tr>
<tr><td><a class="onpage" href="#WARRANTY">Warranty and Support</a></td>
<td><a class="onpage" href="#CRASHED">What If You Have Already Crashed?</a></td></tr>
<tr><td><a class="onpage" href="#LATEST">Getting the Latest Version</a></td>
<td><a class="onpage" href="#OLDWIN">WINDOWS 95/98/ME</a></td></tr>
<tr><td><a class="onpage" href="#PURPOSE">Purpose</a></td>
<td><a class="onpage" href="#RECENTWIN">Windows NT/2000/XP/Vista</a></td></tr>
<tr><td><a class="onpage" href="#WHAT">What Is CMOS?</a></td>
<td><a class="onpage" href="#LARGECMOS">Modern Large CMOS</a></td></tr>
<tr><td><a class="onpage" href="#SYNTAX">Syntax</a></td>
<td><a class="onpage" href="#Y2K">Y2K Year <span class="date">2000</span> Compliance</a></td></tr>
<tr><td><a class="onpage" href="#HINTS">Hints</a></td>
<td><a class="onpage" href="#XT">XT Computers</a></td></tr>
<tr><td><a class="onpage" href="#BELT">Belt and Suspenders</a></td>
<td><a class="onpage" href="#REPEATEDFAILURE">Repeated Failures</a></td></tr>
<tr><td><a class="onpage" href="#UNDERDOS">Running Under DOS</a></td>
<td><a class="onpage" href="#OFFSETS">CMOS Offsets. How each byte of CMOS is used</a></td></tr>
<tr><td><a class="onpage" href="#HOWWORKS">How It Works</a></td>
<td><a class="onpage" href="#OFFSETNOTES">CMOS Offset Notes</a></td></tr>
<tr><td><a class="onpage" href="#HOWUSE">How to Use CMOS</a></td>
<td><a class="onpage" href="#MANUFACTURERS">Note to Computer Manufacturers</a></td></tr>
<tr><td><a class="onpage" href="#DOSBOOTABLE">DOS Bootable Device</a></td>
<td><a class="onpage" href="#EXTENDED">Extended CMOS</a></td></tr>
<tr><td><a class="onpage" href="#TROUBLESHOOTING">Troubleshooting</a></td>
<td><a class="onpage" href="#BOOKS">Books</a></td></tr></tbody></table>
<!-- /generated by Quilt --><h2><a id="INTRODUCTION"></a>Introduction</h2>
CMOSSAVE is Freeware to restore damaged <!-- macro Acronym CMOS --><!-- generated --><a class="acronymdef" href="../bgloss/cmos.html">CMOS</a> (<span class="means"><span class="ac">C</span>omplementary <span class="ac">M</span>etal <span class="ac">O</span>xide on <span class="ac">S</span>ilicon</span>)<!-- /generated by Acronym -->
<p>CMOSSAVE is not a program for the <!-- macro Spell naive --><!-- generated -->na&iuml;ve<!-- /generated by Spell --> user. You must be familiar with composing <!-- macro Acronym ASCII --><!-- generated --><a class="acronymdef" href="../jgloss/ascii.html">ASCII</a> (<span class="means"><span class="ac">A</span>merican <span class="ac">S</span>tandard <span class="ac">C</span>ode for <span class="ac">I</span>nformation <span class="ac">I</span>nterchange</span>)<!-- /generated by Acronym --> text command files
and booting to <!-- macro Acronym DOS --><!-- generated --><a class="acronymdef" href="../jgloss/dos.html">DOS</a> (<span class="means"><span class="ac">D</span>isk <span class="ac">O</span>perating <span class="ac">S</span>ystem</span>)<!-- /generated by Acronym --> to be able to use it.</p>
<ol><li>The most important fact is you must use CMOSSAVE BEFORE you have trouble. If you have not done so, CMOSREST
won&rsquo;t do you a lick if good once your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is corrupted.</li>
<li>The second most important fact is you must boot from <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> and have access to the saved <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> file on the boot
diskette/CD in order to restore your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->.</li>
<li>The third most important fact is you must <strong>redo</strong> you CMOSSAVE any time you change your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, e.g. upgrade your disk. You also need to redo your BOOTSAVE at the same time.</li></ol>
<h2><a id="AUTHOR"></a>Author</h2>
Roedy Green of Canadian Mind Products wrote this suite. CMOSSAVE, CMOSREST and CMOSCHK are copyrighted but may be
freely used for any purpose <a class="contact" href="../contact/nonmil.html">except military</a>. If you pass the files on,
<strong>please pass on this documentation too</strong>.
<p>Please report bugs and problems to roedyg@mindprod.com</p>
<p>Harvey Fishman wrote a pair of programs similar to CMOSSAVE and CMOSREST, but to the best of my knowledge, never
released them.</p>
<h2><a id="FREEWARE"></a>Freeware Status</h2>
CMOSSAVE CMOSREST and CMOSCHK are freeware for <a class="contact" href="../contact/nonmil.html">non-military use only</a>.
<br>
Roedy Green
<br>
Canadian Mind Products
<br>
Precise address withdrawn due to too many death threats.<br>
Victoria, BC Canada
<p>Tel: (250) 361-9093
<br>
mailto:roedyg@mindprod.com
<br>
http://mindprod.com</p>
<p>Big companies such as Sony, <!-- macro Acronym NCR --><!-- generated --><span class="acronymdef">NCR</span> (<span class="means"><span class="ac">N</span>ational <span class="ac">C</span>ash <span class="ac">R</span>egister</span>)<!-- /generated by Acronym --> and Chemineer use cmossave to protect all their machines and to clone <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
settings across machines.</p>
<h2><a id="WARRANTY"></a>Warranty and Support</h2>
This is a free program, so there is no guarantee. However, I will fix any bugs.
<p>Keep in mind, CMOSSAVE won&rsquo;t do you any good unless you have used it <strong>before</strong> you have
trouble. I have no magic to bail you out after the fact. Pleading with me won&rsquo;t help.</p>
<p>Happily, so long as you have done a CMOSSAVE, and have not overwritten it, almost any problem can be rectified
even if CMOSREST or CMOSCHK should fail.</p>
<h2><a id="LATEST"></a>Getting the Latest Version</h2>
You can find the latest <!-- macro Acronym CMP --><!-- generated --><span class="acronymdef">CMP</span> (<span class="means"><span class="ac">C</span>anadian <span class="ac">M</span>ind <span class="ac">P</span>roducts</span>)<!-- /generated by Acronym --> utilities, including <span class="utility">CMOSSave</span> via page at: <a class="download" href="../products1.html#CMOSSAVE">http://mindprod.com/products1.html#CMOSSAVE</a>
<h2><a id="PURPOSE"></a>Purpose</h2>
<ol><li>Naive users sometimes fiddle with <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings. We need a fast way to put the scores of subtle <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
configuration settings back the way they were.</li>
<li>Power surges can corrupt <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. We need a way for a <!-- macro Spell naive --><!-- generated -->na&iuml;ve<!-- /generated by Spell --> user to quickly restore all the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
settings.</li>
<li>If the battery fails, the contents will be lost. We need a way to restore a known working <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
configuration.</li>
<li>You may want to alter some obscure <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> setting and you don&rsquo;t have a program to set it.</li>
<li>CMOSRest can also be used to toggle between two <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> configurations, for example with and without a removable
hard drive installed. If you had removable hard disks, you could rapidly switch between the various disks.</li>
<li>CMOSChk can detect subtle corruption to <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, as might be caused by a rogue program or a virus, something that
might slow your machine or make it unreliable.</li>
<li><span class="utility">CMOSSave</span> can create a backup of your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> on floppy. This way you may safely experiment with <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings. You
can always get back to where you started by using CMOSRest to restore the original settings. Any time you fiddle
with the computer innards, you might accidentally disconnect the battery, losing <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. CMOSSAVE lets you put it
back the way it was.</li>
<li>Testing a machine for year Y2K <span class="date">2000</span> compliance, to make sure the <!-- macro Acronym BIOS --><!-- generated --><a class="acronymdef" href="../bgloss/bios.html">BIOS</a> (<span class="means"><span class="ac">B</span>asic <span class="ac">I</span>nput <span class="ac">O</span>utput <span class="ac">S</span>ystem</span>)<!-- /generated by Acronym --> will kick the date over properly in the
year 2000. Not so important anymore.</li>
<li>If you build machines for a living, you can rapidly clone the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings of one template machine in a dozen
others. You create a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable removable device (floppy, <!-- macro Acronym USB --><!-- generated --><a class="acronymdef" href="../jgloss/usb.html">USB</a> (<span class="means"><span class="ac">U</span>niversal <span class="ac">S</span>erial <span class="ac">B</span>us</span>)<!-- /generated by Acronym --> drive etc), with a copy of CMOSSAVE.com and
CMOSREST.com on it. You set up one machine, do a CMOSSAVE to the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable device, then insert that device into
each machine to clone, boot and do a CMOSREST.</li></ol>
<h2><a id="WHAT"></a>What Is <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->?</h2>
Your computer has three kinds of memory, <!-- macro Acronym RAM --><!-- generated --><a class="acronymdef" href="../bgloss/ram.html">RAM</a> (<span class="means"><span class="ac">R</span>andom <span class="ac">A</span>ccess <span class="ac">M</span>emory</span>)<!-- /generated by Acronym -->, <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> and hard disk. When the power turns off, your computer forgets
everything in <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym -->. Your much slower hard disk retains its magnetic memory. When the power is off, your tiny <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
memory is kept alive by battery backup (ideally a lithium battery, sometimes a rechargeable nicad battery, or worst
of all a pack of ordinary alkaline batteries.) In the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is recorded basic facts about your configuration &mdash;
the size and geometry of your hard disk, how many floppy drives you have and what type, how much <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> you have, how
many wait states need to be added to slow down the <!-- macro Acronym CPU --><!-- generated --><a class="acronymdef" href="../bgloss/cpu.html">CPU</a> (<span class="means"><span class="ac">C</span>entral <span class="ac">P</span>rocessing <span class="ac">U</span>nit</span>)<!-- /generated by Acronym --> enough to work with your <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym -->, etc. etc.
<p>The data in <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> can only be examined or changed with a special program such as CMOSSAVE. It is not a file. If
you are curious about how CMOSSAVE does the access, have a look at the notes in the source code in CMOS.ASM.</p>
<p>When the battery dies, or does when a rechargeable battery not get sufficient on time to recharge, the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> fails,
and it forgets all it knows about your configuration.</p>
<p>CMOSSAVE is designed to restore this lost information by storing copies of it on floppy and/or hard disk.</p>
<h2><a id="SYNTAX"></a>Syntax</h2>
There are three utilities in the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> suite:
<div class="bat">CMOSSAVE.COM A:Myfile.Sav
<br>
IF ERRORLEVEL 1 GO TO Trouble</div>
saves a copy of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> in a file on hard disk or floppy.
<div class="bat">CMOSREST.COM A:MyFile.Sav
<br>
IF ERRORLEVEL 1 GO TO Trouble</div>
restores <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> from a file on hard disk or floppy.
<div class="bat">CMOSCHK.COM A:MyFile.Sav /Q
<br>
IF ERRORLEVEL 1 GO TO FixIt</div>
checks that <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> has not been fiddled with since the last CMOSSAVE. Compares <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> with a file on hard disk or floppy.
<p>/Q suppresses unnecessary banner messages.</p>
<h2><a id="HINTS"></a>Hints</h2>
There are three ways you can use the suite:
<ol><li>manually,</li>
<li>automatically</li>
<li>with a rescue diskette.</li></ol>
<ol><li>Manually. Prepare a bootable floppy with the command:
<div class="bat">Format A: /S /V /U /F:1.44MB</div>
Unfortunately Windows NT W2K, and XP can no longer create a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy, though Vista and Windows 7 can.
Borrow a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable disk from someone with FORMAT on it, and duplicate it or boot from it to create another
bootable dos floppy, or get a friend to create you a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy with<!-- macros OSes W98 ME -->.
Install CMOSSAVE.com and CMOSREST.com on your hard disk into <span class="file">C:\com\mindprod\cmossave</span>.
You can create such a directory with:
<div class="bat">MD C:\com\mindprod\cmossave</div>
This directory need not be on the path, but if it is not, you will have to type
<div class="bat">C:\com\mindprod\cmossave\CMOSSAVE</div>
instead of just
<div class="bat">CMOSSAVE</div>
Backup your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> to the bootable floppy with:
<div class="bat">CMOSSAVE.com A:\CMOS.SAV
<br>
COPY C:\com\mindprod\cmossave\ <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> *.com A:</div>
CMOSSave is a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> utility and thus can only use short 8.3 file names. If ever your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> becomes corrupted,
correct it by booting <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> from floppy and typing:
<div class="bat">CMOSREST.com A:\CMOS.SAV</div>
CMOSRest is a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> utility and thus can only use short 8.3 file names. Then reboot. In this case you don&rsquo;t
bother with CMOSCHK.com at all.</li>
<li>With a rescue diskette. Prepare a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy with an <span class="file">autoexec.bat</span> that
invokes the following commands to correct most <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> and hard disk problems with <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> :
<div class="bat">CMOSREST A:\CMOS.SAV
<br>
BOOTREST A:\BOOT.SAV
<br>
CHKDSK C:/F
<br>
SYS C:
<br>
COPY A:\COMMAND.COM C:\
<br>
COPY A:\COMMAND.COM C:\ <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->
<br></div>
(BootRest.com freeware is separately available. You need to make a separate rescue disk for each machine unless
the machines are absolutely identical including hard disk size.</li></ol>
<h2><a id="BELT"></a>Belt and Suspenders</h2>
Do a CMOSSAVE both to hard disk and to floppy. The hard disk copy can be used for quick restores with the following
two lines added to your <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> AUTOEXEC.BAT file. (This won&rsquo;t work in Windows). Use a text editor to add these
lines.
<div class="bat">CMOSChk.com C:\com\mindprod\cmossave\CMOS.Sav
<br>
IF ERRORLEVEL 1 cmosrest.com C:\com\mindprod\cmossave\CMOS.Sav</div>
CMOSChk is a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> utility and thus can only use short 8.3 file names. Beware! the above code will also under
<strong>deliberate</strong> changes. To someone unfamiliar with CMOSSAVE, having his deliberate <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> changes undone
can be very disconcerting.
<p>At that point you must reboot before the restored <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings take effect. Sometimes <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> will be so badly
damaged the hard disk parameters will be corrupt and your hard disk will stop working. In that case you will have to
revert to using the floppy copy.</p>
<p>Whenever you change your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> setting deliberately, you need to redo the CMOSSAV.COM. However <strong>use a new
filename</strong>, so that you can easily revert to the old version if your new settings do not pan out.</p>
<h2><a id="UNDERDOS"></a>Running Under <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --></h2>
There are three reasons why the <span class="utility">CMOSSave</span> utilities must run under <strong> <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> </strong>, not Windows:
<ol><li><span class="utility">CMOSSave</span> is a very old program, that was created in the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> days, before Windows was a twinkle in Bill
Gates&rsquo; eye.</li>
<li><span class="utility">CMOSSave</span> will run under Windows, it is just that the Windows <!-- macro Acronym OS --><!-- generated --><a class="acronymdef" href="../jgloss/os.html">OS</a> (<span class="means"><span class="ac">O</span>perating <span class="ac">S</span>ystem</span>)<!-- /generated by Acronym --> now prevents it from accessing or changing
<!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, making it useless. Windows does this to protect <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> from malicious corruption by malware. Windows has no way
of knowing that <span class="utility">CMOSSave</span> is benign.</li>
<li>Windows itself will usually not run at all if <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is corrupted. If CMOSRest ran under Windows it would not be
able to run to restore <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->.</li></ol>
What are the ways to run under <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->?
<ul><li><h3>Boot from a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system floppy</h3>
<!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system diskettes use FAT-16 format, 512-byte clusters, with a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system image. You can get a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> System
floppy by looking in your collection of old <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppies and duplicating it. If you don&rsquo;t have one, you can
ask a nerdy friend who does. If you don&rsquo;t have a bit-for-bit copy utility, you can boot from the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->
floppy, and use the following command to format a new system diskette:
<div class="bat"><span class="rem">rem X: is the floppy drive, insert a blank diskette when prompted</span>
<br>
format X: /S</div>
You can also create one under Windows with <span class="click">Computer &rArr; select drive &rArr; right click
format &rArr; Create MS <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> Startup Disk</span>. The command line format command is not suitable since it has no
option to create the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system disk.</li>
<li><h3>Boot from a <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> Flash drive that is formatted to look like a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system floppy</h3>
What if your computer does not have a floppy drive? You could temporarily install one. Alternatively, it will
have a free <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> port. Buy a small <a class="bgloss" href="../bgloss/usbflashdrive.html">USB flash drive</a>. Even
the tiniest <span class="stat">1</span> MB model will do. The problem is getting it formatted to look like a
<!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy. The Windows format refuses to do it. I could not find a utility to do it with my SanDisk Cruzer. If
you find a source for <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> Flash drives with a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> pre-installed, please let me know. If you find a
public domain version of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> designed to be installed on a flash drive, please let me know. Not many people have
both an old copy of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> and a floppy drive any more.</li>
<li><h3>Boot from a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system partition on hard disk</h3>
Creating a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> partition on hard disk is not for the beginner. You need a <a class="bgloss" href="../bgloss/bootmanager.html">Partition/Boot manager</a> to pull it off.</li>
<li><h3>Boot from a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> system on <!-- macro Acronym CD_1 --><!-- generated --><a class="acronymdef" href="../bgloss/cd.html">CD</a> (<span class="means"><span class="ac">C</span>ompact <span class="ac">D</span>isk</span>)<!-- /generated by Acronym --> <!-- macro Acronym ROM --><!-- generated --><a class="acronymdef" href="../bgloss/rom.html">ROM</a> (<span class="means"><span class="ac">R</span>ead <span class="ac">O</span>nly <span class="ac">M</span>emory</span>)<!-- /generated by Acronym --></h3>
Booting from <!-- macro Acronym CD-ROM --><!-- generated --><a class="acronymdef" href="../bgloss/cdr.html">CD-ROM</a> (<span class="means"><span class="ac">C</span>ompact <span class="ac">D</span>isc &mdash; <span class="ac">R</span>ead <span class="ac">O</span>nly <span class="ac">M</span>emory</span>)<!-- /generated by Acronym --> may require a special version of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> that will treat a <!-- macro Acronym CD_1 --><!-- generated --><span class="acronym">CD</span><!-- /generated by Acronym --> like a read-only floppy. Again,
this is an advanced technique.</li></ul>
<div class="important">A <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box/window/compatibility box/penalty box/command prompt is not the same as <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->. It is a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> emulator, part of
Windows, with many features of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> blocked to enhance the security of the computer. Microsoft rightly considers
meddling with <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> a potentially dangerous thing to do, and blocks programs running in the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box from doing it.
For CMOSsave/CMOSrest, you need real <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->, e.g. booting from a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy, not just the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> command prompt.</div>
CMOSSAVE/CMOSTREST will run in very early versions of Windows before Microsoft added the safety blocks, but they
won&rsquo;t run in the more recent versions such as Vista and Windows 7.
<h2><a id="HOWWORKS"></a>How It Works</h2>
CMOSSAVE.COM simply copies the 128 byte contents of the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> bytes to a file. CMOSREST.COM copies them back. CMOSCHK
compares them with the file contents. If they are not equal it sets ERRORLEVEL 1.
<p>Modern computers have larger <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> memories than 128 bytes, but you access them via proprietary ways, which
CMOSSAVE does not know. So CMOSSAVE just saves the first 128 bytes, which are accesses in a uniform way on all
<!-- macro Acronym PCs --><!-- generated --><span class="acronymdef">PCs</span> (<span class="means"><span class="ac">P</span>ersonal <span class="ac">C</span>omputers</span>)<!-- /generated by Acronym -->.</p>
<p>CMOSREST does not touch bytes 0 to 09 and 32h because these are volatile &mdash; they contain the date and time.
Similarly CMOSCHK, does not panic if any of these volatile bytes differ. However, CMOSSAVE saves all 128 bytes, so
that you can browse the generated file with a hex editor to learn more about how <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> works.</p>
<p>You need some sort of hex viewer to see the contents of the CMOS.SAV file. The hex list of bytes is not that
meaningful if you are not a computer programmer.</p>
<p>Daring users could even patch the CMOS.SAV file with a hex editor and restore to get special effects, e.g. to
switch between two different <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> configurations e.g. one with and one without some hard disk. Don&rsquo;t attempt to
edit the file with a non-hex viewer such as NotePad, WordPad, Write or Word For Windows. If you do, you will scramble
the file beyond recognition.</p>
<p>Because <span class="utility">CMOSSave</span> also saves the extended <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> bytes, CMOSRest will restore the esoteric options like shadow <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym -->, wait states, processor clock speed, <!-- macro Acronym HMA --><!-- generated --><span class="acronymdef">HMA</span> (<span class="means"><span class="ac">H</span>igh <span class="ac">M</span>emory <span class="ac">A</span>rea</span>)<!-- /generated by Acronym --> enable etc. It works on <!-- macro Acronym ISA --><!-- generated --><a class="acronymdef" href="../jgloss/isa.html">ISA</a> (<span class="means"><span class="ac">I</span>ndustry <span class="ac">S</span>tandard <span class="ac">A</span>rchitecture</span>)<!-- /generated by Acronym -->, <!-- macro Acronym EISA --><!-- generated --><span class="acronymdef">EISA</span> (<span class="means"><span class="ac">E</span>xtended <span class="ac">I</span>ndustry <span class="ac">S</span>tandard <span class="ac">A</span>rchitecture</span>)<!-- /generated by Acronym --> and <!-- macro Acronym PCI --><!-- generated --><a class="acronymdef" href="../bgloss/pci.html">PCI</a> (<span class="means"><span class="ac">P</span>eripheral <span class="ac">C</span>omponent <span class="ac">I</span>nterconnect</span>)<!-- /generated by Acronym --> machines.</p>
<p>These is no need for any of the three utilities to calculate checksums, since the checksum is saved and restored
just like any other <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> byte.</p>
<p>You might wonder why CMOSSave saves only 128 bytes of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> even though some modern computers have many times that
amount. The problem is the way you get at the rest of it is proprietary. The vendors won&rsquo;t disclose how you get
at it. It is possible to disassemble the <!-- macro Acronym ROM --><!-- generated --><span class="acronym">ROM</span><!-- /generated by Acronym --> <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> to figure it out in an individual case, but that won&rsquo;t work
on other machines. So it is usually not worth the bother unless you wanted a special version of CMOSSAVE for
thousands of identical machines.</p>
<h2><a id="HOWUSE"></a>How to Use <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --></h2>
<!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is battery backed <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> that stores configuration information when the power is off. It is on my top ten worst
ideas list of all time. The problem is, <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is far too easily corrupted, by programs, power or <!-- macro Spell naive --><!-- generated -->na&iuml;ve<!-- /generated by Spell --> users
experimenting.
<p>See CMOS.OFS for a detailed list of what each byte in the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is used for. This is usually of interests to
technophiles only.</p>
<h2><a id="DOSBOOTABLE"></a> <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> Bootable Device</h2>
CMOSsave is a very old program. I wrote it before Windows was even a twinkle in Mr. Gates&rsquo; eye. Back then,
everyone had boxes full of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable floppies and at least one DOS-bootable hard disk. You need some sort of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->
bootable device to boot up <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> to run <span class="utility">CMOSSave</span>. Here are some of your options for a DOS-bootable device today:
<ul><li>A tiny <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> partition on hard disk.</li>
<li>A Bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy.</li>
<li>A bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> flash drive.</li></ul>
Here are two ways to get a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy:
<ol><li>Copy an old <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable floppy, deleting any files you don&rsquo;t need.</li>
<li>Format an empty floppy with Windows, ticking off the DOS-bootable option. It will have a FAT16 files system
with 512-byte sectors.</li></ol>
To get a bootable <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> Flash drive:
<ol class="instructions"><li>Download the free <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> formatting software from <a class="com" href="http://files.extremeoverclocking.com/file.php?f=197">ExtremeOverclocking</a>.</li>
<li>Download the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> boot files for Windows 98 from the same place.</li>
<li>Use the software to format a <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> drive as a bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> drive.</li>
<li>Copy <span class="exe">CMOSave.com</span>, <span class="exe">CMOSRest.com</span> and <span class="exe">CMOSChk.com</span> to the <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> drive.</li>
<li>Adjust your <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> to boot from the <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> drive.</li>
<li>Boot from the <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym -->.</li>
<li>Do your thing with <span class="utility">CMOSSave</span>.</li>
<li>Adjust your <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> to boot from hard disk again.</li></ol>
I was able to create a DOS-bootable <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> drive, but I was unable to get my <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> to boot from it. Please let me know
about your successes and failures with <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> flash drives.
<h2><a id="TROUBLESHOOTING"></a>Troubleshooting</h2>
CMOSSAVE is compatible with every machine I have so far encountered. There are a few that have additional proprietary
<!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> that CMOSSAVE does not see, but CMOSSAVE saves the crucial areas. Because different vendors use <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> in
different ways, CMOSCHK can give false alarms when bits of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> change legitimately.
<p>What is considered volatile and what is not, might vary for different motherboards. If you have trouble restoring,
<strong>Do not despair</strong>. All is recorded. A variant of the CMOSREST program could get you back. All you need
do in make a slight modification to the assembler source VOLATILE routine that decides which bytes to consider
volatile. Even a very junior <!-- macro Acronym MASM --><!-- generated --><a class="acronymdef" href="../jgloss/masm.html">MASM</a> (<span class="means"><span class="ac">M</span>icrosoft <span class="ac">As</span>se<span class="ac">m</span>bler</span>)<!-- /generated by Acronym --> programmer could make that modification for you using the assembler source.</p>
<p>If you do a CMOSSAVE from the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> prompt and from true <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> there may be some subtle differences, and CMOSCHK may
complain about them. This is nothing to worry about since when you restore, those bits in the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> will be
automatically corrected the next time you boot to either <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> or Windows. It is quite safe to save from the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> prompt
with CMOSSAVE, check with CMOSCHK from autoexec.bat or other bat file, and do your restore with CMOSREST from true
<!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->.</p>
<p>Sometimes your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> will be so wrecked you cannot even get your machine limping enough to run CMOSREST from
floppy. In that case you must clear <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. Do this on <!-- macro Acronym AMI_2 --><!-- generated --><span class="acronymdef">AMI</span> (<span class="means"><span class="ac">A</span>merican <span class="ac">M</span>egatrends <span class="ac">I</span>nc.</span>)<!-- /generated by Acronym --> <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> es by holding down the <span class="key">Ins</span> key, powering off, powering
on, then releasing the
<span class="key">Ins</span> key. In the worst case, remove the battery and let the capacitance on the board drain
overnight to clear it. On some <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> es you can clear <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> by selecting universal default settings from the normal <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
setting menu.</p>
<p>You can then get a bare bones <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> configured &mdash; that just has the floppies right. Nothing else much matters.
From there you can run CMOSREST.COM.</p>
<p>The SSTOR disk formatting utility from Storage Dimensions makes it look as though it had modified <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. If you
boot without the SSTOR driver, <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> will appear to have changed because SSTOR is not doing its standard trickery.</p>
<p>The <!-- macro Acronym NCR --><!-- generated --><span class="acronym">NCR</span><!-- /generated by Acronym --> CMOSDR6X program interferes with CMOSSAVE and CMOSREST. Make sure you do your CMOSSAVE CMOSREST work
before loading this program.</p>
<p>The TURBO setting is part of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. If you accidentally turn turbo mode off, <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> will appear to be changed, and
CMOSCHK will complain. To clear the problem, set turbo back on and allow the CMOSCHK to restore <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. This way
CMOSCHK will remind you if you have accidentally turned off turbo mode. This feature can be turned off by making the
byte where your turbo info is stored volatile. If you want this feature, just send the CMOSCHK listing that complains
about <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> being changed.</p>
<div class="important">I repeat: CMOSREST won&rsquo;t do you a lick of good unless you run CMOSSAVE BEFORE you have trouble. Make sure you
have copies of CMOS.SAV both on hard disk and on floppy.</div>
There is a companion program called BOOTSAVE that works in a similar way to protects your boot track from damage by
rogue programs or viruses. Again, you must use it BEFORE you have trouble.
<p>CMOSREST does not take effect until you REBOOT!!</p>
<h2><a id="HELP"></a>Getting Help From Roedy</h2>
If you want help from me diagnosing trouble, first read this manual several times and try the various things it
suggests. Only if that does not work, email me at&nbsp;<!-- macro MailTo feedback "Roedy Green" --><!-- generated --><img class="mailto" src="../image/mailto/feedback.png"
alt="email Roedy Green" width="209" height="22"><!-- /generated by MailTo -->
including the following:
<ul><li>A description of the problem.</li>
<li>A description of your hardware motherboard and <!-- macro Acronym OS --><!-- generated --><span class="acronym">OS</span><!-- /generated by Acronym -->.</li>
<li>attach a screenshot (image or text) of the offending command and any error message.</li>
<li>attach a copy of your <span class="file">cmos.sav</span> file and a copy of a second <span class="file">cmosb.sav</span> file taken a few minutes later.</li></ul>
<h2><a id="VERIFICATION"></a>Verification Fire Drill</h2>
CMOSSave and CMOSTRest have internal checks to warn you if they are not functioning. However, you can assure yourself
they are working properly by using <span class="utility">CMOSSave</span>, then changing some minor setting in <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> (e.g. to add an extra unneeded
wait state), then use CMOSChk to detect the damage then CMOSRest to restore the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> back the way it was. If all is
working correctly, the minor change should be undone.
<h2><a id="FALSEALARM"></a>False Alarm CMOSChk Corruption Messages</h2>
Some non-standard <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> es have additional volatile portions that CMOSCHK does not know about. It will report false
corruptions. There are three ways you can handle the problem:
<ol><li>Send me a screen print of what CMOSCHK is saying. I will send you a custom version with those false mismatches
considered as volatile bytes.</li>
<li>Modify the <em>VolatileList</em> line in CMOS.ASM yourself to include the extra offsets your <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> is treating
as volatile. Then reassemble. CmosChk.com will give you a list of offsets where it thinks there are mismatches. It
is up to you to determine which ones you think are false alarms.</li>
<li>Simply avoid using CMOSChk. Just use CMOSSAVE and CMOSREST. Most of the time damaged <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is fairly
obvious.</li></ol>
<h2><a id="CRASHED"></a>What If You Have Already Crashed?</h2>
CMOSSAVE is prophylaxis, not a cure. You have to use it BEFORE you have trouble. (Hmm. Is there is an echo in here?)
However, what can you do if your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is wrecked and you have no CMOS.SAV backup of it?
<p>You had best get an expert to help you set the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> back to defaults and guess the fine tuning for the parameters.
The dealer who sold you the machine is the best person to help. He may be able to contact the disk manufacturer to
find out how many heads and cylinders it has. He may be able to find hints in the motherboard manual.</p>
<p>If your machine has an <strong>exact twin</strong>, you may still be in luck. You can make a backup of the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> on
that machine, then restore it into the ruined one. Don&rsquo;t try this unless the machines are
<strong>absolutely</strong> identical. There is a good chance you will destroy your hard disk data if you transplant
a <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> from a different sized disk.</p>
<p>You can manually set <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> back if you hit the magic keys during hard boot, often DEL, F2, or Ctrl-Alt-Esc.
Sometimes you need a diskette to set up <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. Check the manual that came with your motherboard, or check with the
company that sold it to you.</p>
<p>Usually there is a way to set <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings to default. In a pinch you can do it by removing the battery for a day
or two.</p>
<h2><a id="OLDWIN"></a>WINDOWS 95/98/ME</h2>
CMOSSAVE is a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> program that gets its data from the command line. The most common mistake is to try to run CMOSSAVE
directly from Windows 95 Explorer, rather than by first starting a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box or setting up the CMOSSAVE command line in
the properties for the icon.
<p>Windows 95 still has a C:\autoexec.bat just as under <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->. Alternatively go into a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box and use the CMOSSSAVE
utilities just as you would under <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> to add the call to CHKCMOS.BAT or to directly invoke CHKCMOS.COM. still use
CMOSSAVE and CMOSREST just as under previous versions of <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> and Windows. Putting cmoschk.com in your autoexec just
helps you detect <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> corruption the instant it occurs.</p>
<p>Windows 95 users often have no understanding of the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> <!-- macro Acronym CD_1 --><!-- generated --><span class="acronym">CD</span><!-- /generated by Acronym -->, MD and path commands, how to edit autoexec.bat or even
how to run a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> program. If you are one of this new breed, your best bet is to get help from someone who is familiar
with <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym -->, since if <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is corrupt you will need to revert to <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> to get Windows going again.</p>
<p>You can run the utilities either in autoexec.bat, in <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> or 4DOS box, in a <!-- macro Acronym BAT --><!-- generated --><a class="acronymdef" href="../jgloss/bat.html">BAT</a> (<span class="means"><span class="ac">Bat</span>ch</span>)<!-- /generated by Acronym --> file, or by creating a shortcut,
complete with parameters on the command line.</p>
<p>However, here is a crude, but fool-proof recipe to use cmossave manually under Windows 95.</p>
<p>Copy the files cmossave.com, cmoschk.com and cmosrest.com to a freshly formatted floppy in your A: drive.</p>
<p>In Win 95, select Start, Programs, MS <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> Prompt to get you to the Win 95 <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box. Type:</p>
<div class="bat">c:
<br>
sys a:
<br>
a:
<br>
cmossave cmos.sav
<br>
exit</div>
If later suspect your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is corrupted boot from that floppy. Then type:
<div class="bat">A:
<br>
cmoschk cmos.sav</div>
If it turns out it is indeed corrupt, then type
<div class="bat">cmosrest cmos.sav</div>
Then remove the floppy and reboot by hitting either Ctrl-Alt-Del, the reset button, or if all else fails, power
off/power on.
<h2><a id="RECENTWIN"></a>Windows NT/2000/XP/Vista</h2>
Windows NT interferes with CMOSREST, though it will allow CMOSSAVE and CMOSCHK to run properly. The restore appears
to work, but when you exit the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> box, NT undoes the restore. Should you need to restore, you will have to boot from
a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> floppy or dual boot to Windows to run CMOSREST. It would be wise to have a copy of your CMOS.SAV file and
cmosrest.com on that bootable floppy or <!-- macro Acronym CD_1 --><!-- generated --><span class="acronym">CD</span><!-- /generated by Acronym -->.
<p>You can acquire a bootable floppy by digging in your old <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> diskettes, asking an old timer for one, or you can
right click Format and select <span class="quoted">bootable <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> disk</span>. It may be possible to use memory sticks, thumbdrives,
<!-- macro Acronym CD_1s --><!-- generated --><a class="acronymdef" href="../bgloss/cd.html">CDs</a> (<span class="means"><span class="ac">C</span>ompact <span class="ac">D</span>isks</span>)<!-- /generated by Acronym -->
and <!-- macro Acronym DVDs --><!-- generated --><a class="acronymdef" href="../bgloss/dvd.html">DVDs</a> (<span class="means"><span class="ac">D</span>igital <span class="ac">V</span>ideo <span class="ac">D</span>iscs</span>)<!-- /generated by Acronym -->
too with appropriate DOS-formatting software.</p>
<h2><a id="LARGECMOS"></a>Modern Large <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --></h2>
Most modern computers have a <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> larger than <span class="stat">128</span>K. However, instructions to access it are only published for the
first <span class="stat">128</span>K. I can create special versions of CMOSSAVE to handle large <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> es if you give me documentation on the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->
accessing, or if I can get a sample machine for a week to experiment with to figure out how the <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> accesses the
additional <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. I would have to charge you for that, and the special version would only work on machines very
similar to the one you sent me.
<h2><a id="Y2K"></a>Y2K Year <span class="date">2000</span> Compliance</h2>
Some older machines will not work properly in the year <span class="date">2000</span> because the <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> will not handle dates past 1999. You
would probably want to know if your machine will have this problem. Unfortunately, if you perform an experiment by
setting the date to 2000-01-01, some <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> es forget <strong>everything</strong>. If you make a backup first with
CMOSSAVE, you can easily restore <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> to its original settings.
<p>If you are testing a number of machines, make sure you erase the CMOS.SAV file on floppy between tests. You
don&rsquo;t want to accidentally restore the CMOS.SAV file from one machine into another (unless they were absolutely
identical, including hard disk size.)</p>
<h2><a id="XT"></a>XT Computers</h2>
You will find that XT computers don&rsquo;t have a <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, so CMOSSAVE will not do you much good.
<p>You can configure XT floppies using <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> &rsquo;s DRIVPARM.</p>
<p>Back in the good old days of the XT you had to use proprietary methods to format hard disks and tell <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> how big
they are. Typically you fired them up with debug g=c800:5 and talked with a proprietary ram-based low level
formatting program. Then you later used <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> format. HDSNIFF goes into this in much more detail. Briefly:</p>
<table class="standard" summary="XT drive settings"><thead><tr><th colspan="3">XT Drive Settings</th></tr>
<tr><th>Brand</th>
<th>Debug Init</th>
<th>Step byte code = step pulse rate</th></tr></thead>
<tbody><tr><td>Adaptec</td>
<td>g=c800:ccc</td>
<td>3=13 &micro;s, 2=30 &micro;s, 5=70 &micro;s, 4=200 &micro;s, 0=3 ms</td></tr>
<tr><td>DTC5150CRH</td>
<td>g=c800:5</td>
<td>2=12 &micro;s, 5=70 &micro;s, 4=200 &micro;s, 0,1,6,7=3 ms</td></tr>
<tr><td>DTC5150XL</td>
<td>g=c800:5</td>
<td>0=5,10,20,30,40,50,60,70 &micro;s (cannot tell which!)</td></tr>
<tr><td>IBM/Xebec</td>
<td></td>
<td>5=70 &micro;s, 4=200 &micro;s, 0,6,7=3 ms</td></tr>
<tr><td>Omti</td>
<td>g=c800:6</td>
<td>1=10 &micro;s, 2=25 &micro;s, 3=40 &micro;s, 5=70 &micro;s, 4=200 &micro;s, 0,6,7=3 ms</td></tr>
<tr><td>WD-old</td>
<td>g=c800:5</td>
<td>5=70 &micro;s, 4=200 &micro;s, 0,6,7=3 ms</td></tr>
<tr><td>Wd1002-Wx1</td>
<td>g=c800:5</td>
<td>3,7=10.5 &micro;s, 2=22.5 &micro;s, 6=28.5 &micro;s, 1=46.5 &micro;s, 5=70.5 &micro;s, 4=202.5 &micro;s,
0=3.1 ms</td></tr>
<tr><td>WD10025WX2</td>
<td>g=c800:5</td>
<td>3,7=18 &micro;s, 6=30 &micro;s, 1=45 &micro;s, 2=60 &micro;s, 5=75 &micro;s, 4=210 &micro;s, 0=3ms</td></tr>
<tr><td>Wd1002-27X</td>
<td>g=c800:5</td>
<td>3,7=8 &micro;s, 1,2,4,5,6=24 &micro;s, 0=3 ms</td></tr>
<tr><td>Wd1004-Wx1</td>
<td>g=c800:5</td>
<td>3,7=12 &micro;s, 6=27 &micro;s, 1=51 &micro;s, 2=63 &micro;s, 5=75 &micro;s, 4=207 &micro;s, 0=3 ms</td></tr>
<tr><td>Wd1004-27X</td>
<td>g=c800:5</td>
<td>3,7=8 &micro;s, 1,2,4,5,6=24 &micro;s, 0=3 ms</td></tr>
<tr><td>WD1004A27X</td>
<td>g=c800:5</td>
<td>3,7=11 &micro;s, 1,2,4,5,6=24 &micro;s, 0=3.3 ms</td></tr>
<tr><td>WD-XT-GEN1</td>
<td>g=c800:5</td>
<td>3,7=18 &micro;s, 6=30 &micro;s, 1=45 &micro;s, 2=60 &micro;s, 5=75 &micro;s, 4=210 &micro;s, 0=3ms</td></tr>
<tr><td>WD-XT-GEN2</td>
<td>g=c800:5</td>
<td>3,7=18 &micro;s, 6=30 &micro;s, 1=45 &micro;s, 2=60 &micro;s, 5=75 &micro;s, 4=210 &micro;s, 0=3ms</td></tr></tbody></table>
<h2><a id="REPEATEDFAILURE"></a>Repeated Failures</h2>
What happens if your machine routinely loses <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. What are the causes:
<ul><li>a poor battery. Replace it with a lithium battery. (You will need the motherboard manual, because sometimes you
need to change a jumper when you do this. If you have a nicad rechargeable battery, leave the machine on all the
time to give it time to recharge.</li>
<li>a roque program. A program going nuts can accidentally write garbage into <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. I have found this is less
likely to happen with Windows 95.</li></ul>
<h2><a id="OFFSETS"></a> <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> Offsets. How each byte of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is used</h2>
Understanding this offset documentation is not needed to use CMOSSAVE. It is provided mainly for the insatiably
curious. Every machine under the sun uses <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> a different way, so this is only a rough guide. <span class="utility">CMOSSave</span> touches only
the standard first 128 bytes of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. It does not touch the proprietary extended <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->.
<p>! = must be restored
<br>
* = checksummed
<br>
v = volatile</p>
<table class="standard" summary="CMOS Offsets"><thead><tr><th colspan="3"><!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> Offsets</th></tr>
<tr><th>Type</th>
<th>Offset</th>
<th>Contents</th></tr></thead>
<tbody><tr><td>v</td>
<td>00h</td>
<td>Seconds time of day</td></tr>
<tr><td>v</td>
<td>01h</td>
<td>Seconds Alarm</td></tr>
<tr><td>v</td>
<td>02h</td>
<td>Minutes time of day</td></tr>
<tr><td>v</td>
<td>03h</td>
<td>Minutes Alarm</td></tr>
<tr><td>v</td>
<td>04h</td>
<td>Hours time of day</td></tr>
<tr><td>v</td>
<td>05h</td>
<td>Hours Alarm</td></tr>
<tr><td>v</td>
<td>06h</td>
<td>Day of the Week</td></tr>
<tr><td>v</td>
<td>07h</td>
<td>Day of the Month</td></tr>
<tr><td>v</td>
<td>08h</td>
<td>Month</td></tr>
<tr><td>v</td>
<td>09h</td>
<td>Year 1980 = 0</td></tr>
<tr><td>v</td>
<td>0Ah</td>
<td>Status Register A
<br>
bit 7 = updating time
<br>
bit 6:4 = system clock divider
<br>
bit 3:0 = periodic interrupt rate</td></tr>
<tr><td>!</td>
<td>0Bh</td>
<td>Status Register B alarm
<br>
bit 7 = abort update cycle
<br>
bit 6 = enable periodic interrupt
<br>
bit 5 = enable alarm interrupt
<br>
bit 4 = enable update-ended interrupt
<br>
bit 3 = enable square wave generator
<br>
bit 2 = 1 = calendar in binary, 0 = bcd
<br>
bit 1 = 1 = 24 hour clock, 0 = 12 hour clock
<br>
bit 0 = 1 enable daylight savings</td></tr>
<tr><td>v</td>
<td>0Ch</td>
<td>Status Register C flags
<br>
bit 7 = interrupt active
<br>
bit 6 = periodic interrupt flag
<br>
bit 5 = alarm flag
<br>
bit 4 = update end flag
<br>
bit 3:0 = reserved</td></tr>
<tr><td>!</td>
<td>0Dh</td>
<td>Status Register D battery bit 7 = Real Time Clock has power
<br>
bit 6:0 = reserved</td></tr>
<tr><td>!</td>
<td>0Eh</td>
<td>Diagnostic Status Byte
<br>
bit 7 = <!-- macro Acronym RTC --><!-- generated --><span class="acronymdef">RTC</span> (<span class="means"><span class="ac">R</span>eal <span class="ac">T</span>ime <span class="ac">C</span>lock</span>)<!-- /generated by Acronym --> lost power
<br>
bit 6 = <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> checksum bad
<br>
bit 5 = invalid system config
<br>
bit 4 = invalid memory size
<br>
bit 3 = fixed disk adapter failure
<br>
bit 2 = invalid <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> time
<br>
bit 1 = reserved
<br>
bit 0 = reserved</td></tr>
<tr><td>!</td>
<td>0Fh</td>
<td>Shutdown Status Byte</td></tr>
<tr><td>!*</td>
<td>10h</td>
<td>Disk Drive Type for Drives A: and B:
<br>
The drive-type bytes use bits 7:4 (most significant nibble)
<br>
for the first floppy drive A: and 3:0 for B:
<br>
floppy drive types:
<br>
00h no drive present
<br>
01h <span class="stat">360</span>KB
<br>
02h 1.2MB
<br>
03h <span class="stat">720</span>KB
<br>
04h 1.44MB
<br>
05h 2.88MB
<br>
03h-0Fh reserved</td></tr>
<tr><td>!*</td>
<td>11h</td>
<td>(<!-- macro Acronym AT --><!-- generated --><span class="acronymdef">AT</span> (<span class="means"><span class="ac">A</span>dvanced <span class="ac">T</span>echnology</span>)<!-- /generated by Acronym -->):Reserved (PS/2):drive type for hard disk C:
<br>
<!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> bios uses it like this:
<br>
bit 7 mouse enabled
<br>
bit 6 test memory above 1 MB
<br>
bit 5 tick sound during memory test
<br>
bit 4 memory parity enabled
<br>
bit 3 at bootup display setup keystroke
<br>
bit 2 specify hard disk data location
<br>
bit 1 pause on error
<br>
bit 0 numlock on</td></tr>
<tr><td>!*</td>
<td>12h</td>
<td>(<!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->, XT/286):hard disk type for drives C: and D:
<br>
bits 7:4 C: bits 3:0 D:
<br>
(PS/2):drive type for hard disk D:
<br>
Format of drive-type entry for <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->, XT/286:
<br>
<table class="borderless" summary="CMOS drive types"><tbody><tr><td>0</td>
<td>number of cyls in drive (0-1023 allowed)</td></tr>
<tr><td>2</td>
<td>number of heads per drive (0-15 allowed)</td></tr>
<tr><td>3</td>
<td>starting reduced write compensation (not used on <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->)</td></tr>
<tr><td>5</td>
<td>starting cylinder for write compensation</td></tr>
<tr><td>7</td>
<td>max. <!-- macro Acronym ECC --><!-- generated --><a class="acronymdef" href="../jgloss/ecc.html">ECC</a> (<span class="means"><span class="ac">E</span>rror <span class="ac">C</span>orrecting <span class="ac">C</span>ode</span>)<!-- /generated by Acronym --> data burst length, XT only</td></tr>
<tr><td>8</td>
<td><table class="borderless" summary="CMOS drive control bytes"><thead><tr><th>Bits</th>
<th>Function</th></tr></thead>
<tbody><tr><td>7</td>
<td>disable disk-access retries</td></tr>
<tr><td>6</td>
<td>disable <!-- macro Acronym ECC --><!-- generated --><span class="acronym">ECC</span><!-- /generated by Acronym --> retries</td></tr>
<tr><td>5-4</td>
<td>reserved, set to zero</td></tr>
<tr><td>3</td>
<td>more than 8 heads</td></tr>
<tr><td>2-0</td>
<td>drive option on XT (not used by <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->)</td></tr></tbody></table></td></tr>
<tr><td>9</td>
<td>timeout value for XT (not used by <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->)</td></tr>
<tr><td>12</td>
<td>landing zone cylinder number</td></tr>
<tr><td>14</td>
<td>number of sectors per track (default 17, 0-17 allowed)</td></tr></tbody></table></td></tr>
<tr><td>!*</td>
<td>13h</td>
<td>Reserved, keyboard repeat rate</td></tr>
<tr><td>!*</td>
<td>14h</td>
<td>Equipment Byte (corresponds to sw. 1 on <!-- macro Acronym PC --><!-- generated --><span class="acronymdef">PC</span> (<span class="means"><span class="ac">P</span>ersonal <span class="ac">C</span>omputer</span>)<!-- /generated by Acronym --> and XT)
<br>
bits 7:6 - 00 = 1 floppy 01 = 2 floppies
<br>
bits 5:4 = 10 = colour 11 = mono
<br>
bit 1 = coprocessor present
<br>
bit 0 = 0 = floppies present</td></tr>
<tr><td>!*</td>
<td>15h-16h</td>
<td>Base Memory Size in K (low,high)</td></tr>
<tr><td>!*</td>
<td>17h-18h</td>
<td>Expansion Memory Size in K (low,high)</td></tr>
<tr><td>!*</td>
<td>19h</td>
<td>drive C: extended info</td></tr>
<tr><td>!*</td>
<td>1Ah</td>
<td>drive D: extended info</td></tr>
<tr><td>!*</td>
<td>1Bh-20h</td>
<td>Reserved
<br>
(PS/2) <!-- macro Acronym POS --><!-- generated --><span class="acronymdef">POS</span> (<span class="means"><span class="ac">P</span>oint <span class="ac">O</span>f <span class="ac">S</span>ale</span>)<!-- /generated by Acronym --> information Model 50 (60 and 80 use a <span class="stat">2</span>K
<br>
<!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> that is not accessible through software)</td></tr>
<tr><td>!*</td>
<td>1Bh-1CH</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 cyls</td></tr>
<tr><td>!*</td>
<td>1Dh</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 head count</td></tr>
<tr><td>!*</td>
<td>1Eh-1Fh</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 write precomp starting cyl</td></tr>
<tr><td>!*</td>
<td>20h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 control byte</td></tr>
<tr><td>!*</td>
<td>21h-22h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 landing zone cylinder</td></tr>
<tr><td>!*</td>
<td>23h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 46 sectors per track</td></tr>
<tr><td>!*</td>
<td>24h-25H</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 cyls</td></tr>
<tr><td>!*</td>
<td>26h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 head count</td></tr>
<tr><td>!*</td>
<td>27h-28h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 write precomp starting cyl</td></tr>
<tr><td>!*</td>
<td>29h</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 control byte</td></tr>
<tr><td>!*</td>
<td>2Ah-2Bh</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 landing zone cylinder</td></tr>
<tr><td>!*</td>
<td>2Ch</td>
<td><!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> type 47 sectors per track</td></tr>
<tr><td>!*</td>
<td>21h</td>
<td>Used in <!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> bioses
<br>
bit 7 Weitek present
<br>
bit 6 floppy seek on boot
<br>
bit 5 first C: then A:
<br>
bit 4 fast clock
<br>
bit 3 external cache enabled
<br>
bit 2 internal cache enabled
<br>
bit 1 fast A20
<br>
bit 0 allow turbo switch</td></tr>
<tr><td>!*</td>
<td>22h-2Dh</td>
<td>Reserved (possibly checksumed)</td></tr>
<tr><td>!*</td>
<td>2Eh-2Fh</td>
<td>Checksum of Bytes 10..20 or 10..2F (low,high)</td></tr>
<tr><td>!</td>
<td>30h-31h</td>
<td>Exp. Memory Size as Det. by POST (low,high)</td></tr>
<tr><td>v</td>
<td>32h</td>
<td>Date Century Byte</td></tr>
<tr><td>!</td>
<td>33h</td>
<td>Information Flags (set during power-on)</td></tr>
<tr><td>!</td>
<td>34h-36h</td>
<td>Reserved</td></tr>
<tr><td>!</td>
<td>37h</td>
<td>Date Century on <!-- macro Acronym MCA --><!-- generated --><span class="acronymdef">MCA</span> (<span class="means"><span class="ac">M</span>icro-<span class="ac">C</span>hannel <span class="ac">A</span>rchitecture</span>)<!-- /generated by Acronym --></td></tr>
<tr><td>v</td>
<td>38h</td>
<td>volatile Why??</td></tr>
<tr><td>!</td>
<td>39h</td>
<td>Reserved</td></tr>
<tr><td>v</td>
<td>3Ah</td>
<td>bit 1 of 3Ah used to mark whether have Plug &amp; Play <!-- macro Acronym OS --><!-- generated --><span class="acronym">OS</span><!-- /generated by Acronym --> in Sony.</td></tr>
<tr><td>!</td>
<td>3Bh</td>
<td>Reserved</td></tr>
<tr><td>!</td>
<td>3Ch</td>
<td>90/91 <!-- macro Acronym AMI_2 --><!-- generated --><span class="acronym">AMI</span><!-- /generated by Acronym --> Bios boot order A/C or C/A</td></tr>
<tr><td>!</td>
<td>3Dh</td>
<td>Reserved</td></tr>
<tr><td>!</td>
<td>3Eh</td>
<td>Reserved</td></tr>
<tr><td>!</td>
<td>3Fh</td>
<td>quasi-volatile in Pentiums (We restore, but ignore in CMOSCHK)</td></tr>
<tr><td>!v</td>
<td>40h-42h</td>
<td>Reserved for chipmaker</td></tr>
<tr><td>!</td>
<td>43h-49h</td>
<td>Reserved for chipmaker</td></tr>
<tr><td></td>
<td>4Ah</td>
<td>AST laptop backlight timeout in minutes</td></tr>
<tr><td></td>
<td>4Bh</td>
<td>AST laptop hard disk timeout in minutes</td></tr>
<tr><td></td>
<td>4Ch-52h</td>
<td>system password scan codes</td></tr>
<tr><td>!*</td>
<td>60h-61H</td>
<td>Phoenix type 48 cyls</td></tr>
<tr><td>!*</td>
<td>62h</td>
<td>Phoenix type 48 head count</td></tr>
<tr><td>!*</td>
<td>63h-64h</td>
<td>Phoenix type 48 write precomp starting cyl</td></tr>
<tr><td>!*</td>
<td>65h-65h</td>
<td>Phoenix type 48 landing zone cylinder</td></tr>
<tr><td>!*</td>
<td>67h</td>
<td>Phoenix type 48 sectors per track</td></tr>
<tr><td>!*</td>
<td>75h-76H</td>
<td>Phoenix type 49 cyls</td></tr>
<tr><td>!*</td>
<td>77h</td>
<td>Phoenix type 49 head count</td></tr>
<tr><td>!*</td>
<td>78h-79h</td>
<td>Phoenix type 49 write precomp starting cyl</td></tr>
<tr><td>!*</td>
<td>7Ah-7Bh</td>
<td>Phoenix type 49 landing zone cylinder</td></tr>
<tr><td>!*</td>
<td>7Ch</td>
<td>Phoenix type 49 sectors per track</td></tr></tbody></table>
<h2><a id="OFFSETNOTES"></a> <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> Offset Notes</h2>
The alarm function is used to drive the <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym --> WAIT function (int 15h function 90h).
<p>To access the configuration <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> write the byte address (00-3Fh) you need to access to I/O port 70h, then access
the data via I/O port 71h.</p>
<p><!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> chip is a Motorola 146818</p>
<p>The equipment byte is used to determine the configuration for the POST power-on diagnostics.</p>
<p>Bytes 00-0Dh are defined by the chip for timing functions, bytes 0Eh-3Fh are defined by <!-- macro Acronym IBM --><!-- generated --><span class="acronymdef">IBM</span> (<span class="means"><span class="ac">I</span>nternational <span class="ac">B</span>usiness <span class="ac">M</span>achines</span>)<!-- /generated by Acronym -->.</p>
<p>compaq 386 uses the same <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> chip as <!-- macro Acronym IBM --><!-- generated --><span class="acronym">IBM</span><!-- /generated by Acronym --> at. extra functions:
<br>
byte 45 (2Dh) store additional info not maintained by <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym -->
<br>
bit 0 indicates is Compaq dual-mode monitor installed
<br>
bit 1 indicates whether keyclick is enabled
<br>
bit 2 not used
<br>
bit 3 if non-Compaq graphics adapter installed</p>
<p>Some <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> es, (SXs) appear to store duplicates of registers 0:3F in 40:7F, others (DXs) store some other advanced
configuration information in these registers. Thus there are 64 byte and 128 byte CMOSes. We tell them apart by
looking for a match in bytes in the checksum range.</p>
<p>Offsets 10..2F are included in the checksum. We do not ever need to compute a checksum in CMOSREST since we just
save and restore. Exactly what is included in the checksum varies with the <!-- macro Acronym BIOS --><!-- generated --><span class="acronym">BIOS</span><!-- /generated by Acronym -->. Sometimes only 10..20 is
included.</p>
<p>For further information see the <!-- macro Acronym IBM --><!-- generated --><span class="acronym">IBM</span><!-- /generated by Acronym --> <!-- macro Acronym AT --><!-- generated --><span class="acronym">AT</span><!-- /generated by Acronym --> Technical reference page 1-56. <!-- macro Acronym PC --><!-- generated --><span class="acronym">PC</span><!-- /generated by Acronym --> Magazine did an article on <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> on page
344 of the <span class="date">1994-09-13</span> edition.</p>
<p>For a detailed list, especially for vendor specific bytes is in The Undocumented <!-- macro Acronym PC --><!-- generated --><span class="acronym">PC</span><!-- /generated by Acronym -->, A Programmer&rsquo;s Guide To
I/O, <!-- macro Acronym CPU --><!-- generated --><span class="acronym">CPU</span><!-- /generated by Acronym --> s, and Fixed Memory Areas by Frank van Gilluwe, Addison-Wesley. For exhaustive detail, see CMOS.LST available
as part of <a class="edu" href="http://www.cs.cmu.edu/afs/cs.cmu.edu/user/ralf/pub/WWW/files.html">Ralf Brown&rsquo;s
interrupt list</a>:</p>
<p>You can modify the VOLATILIST in CMOS.ASM if you find other volatile bytes in your <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, in other words, bytes in
<!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> that seem to change even when <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> is not corrupted.</p>
<h2><a id="MANUFACTURERS"></a>Note to Computer Manufacturers</h2>
You might create several different versions of CHKCMOS or CMOSSAVE with different volatile byte definitions. They
would then only work on a subset of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->, e.g. Motherboard settings, hard disk settings&hellip; You could then use
these programs to clone <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings between machines.
<p>You can rapidly clone the <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> settings of one template machine in a dozen others. You create a <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable
removable device (floppy, <!-- macro Acronym USB --><!-- generated --><span class="acronym">USB</span><!-- /generated by Acronym --> drive etc), with a copy of CMOSSAVE.com and CMOSREST.com on it. You set up one machine,
do a CMOSSAVE to the <!-- macro Acronym DOS --><!-- generated --><span class="acronym">DOS</span><!-- /generated by Acronym --> bootable device, then insert that device into each machine to clone, boot and do a
CMOSREST.</p>
<h2><a id="EXTENDED"></a>Extended <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --></h2>
CMOSSAVE is concerned with saving a restoring the first standard 256 bytes of <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym -->. Most motherboard manufacturers
extend this in proprietary ways. Since the ways you get at this extra <!-- macro Acronym CMOS --><!-- generated --><span class="acronym">CMOS</span><!-- /generated by Acronym --> are not published CMOSSAVE ignores it. If
you are a motherboard manufacturer willing to divulge the technique to accessing your <!-- macro Acronym RAM --><!-- generated --><span class="acronym">RAM</span><!-- /generated by Acronym --> would be happy to write
custom versions for your motherboards.
<h2 class="book"><a id="BOOKS"></a>Books</h2>
<!-- macro Insert 9780201622775 {The Undocumented PC, A Programmer&rsquo;s Guide To I/O, CPUs, and Fixed Memory Areas} --><!-- generated --><table class="sellbook" summary="Book referral for The Undocumented PC, A Programmer&rsquo;s Guide To I/O, CPUs, and Fixed Memory Areas"><tbody><tr><td rowspan="4"><img class="booktitle" src="../image/bookcover/9780201622775.jpg"
alt="book cover" width="190" height="240"></td>
<td colspan="4" class="booktitle"><span class="indexing">recommend book&rArr;</span>The Undocumented PC, A Programmer&rsquo;s Guide To I/O, CPUs, and Fixed Memory Areas<a class="plain" href="../book/9780201622775.html"><img src="../image/navigate/pigeon.png"
alt="to book home" width="19" height="18" align="right"></a></td></tr>
<tr><th class="alignedright">by</th>
<td class="by">Frank van Gilluwe</td>
<td class="alignedright"><a class="plain" href="http://www.amazon.com/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canadianmindprod&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0201622777">978-0-201-62277-5</a></td>
<th class="alignedleft">paperback</th></tr>
<tr><th class="alignedright">publisher</th>
<td class="publisher">Addison-Wesley</td></tr>
<tr><th class="alignedright">published</th>
<td class="published">1993</td></tr>
<tr><td colspan="5" class="notes">A fasciting book about CPU detection, undocumented CPU instructions, how adapter cards work, how the BIOS works, how DMA works and of course how CMOS works and how the various parts of CMOS are used.</td></tr>
<tr><td colspan="5" class="buy"><table class="sellbookgrid" width="100%" summary="Online bookstores carrying The Undocumented PC, A Programmer&rsquo;s Guide To I/O, CPUs, and Fixed Memory Areas"><colgroup><col width="75" align="center"><col align="left"><col align="right"><col width="75" align="center"></colgroup><tbody><tr><td class="flag"><img src="../image/flag/australia.png"
alt="Australian flag" width="50" height="25"></td>
<td><a class="plain" rel="nofollow" href="http://clickserve.cc-dt.com/link/tplclick?lid=41000000024289215&amp;pubid=21000000000049036&amp;redirect=http%3A%2F%2Fwww.abebooks.com%2Fservlet%2FSearchResults%3Fisbn%3D9780201622775%26amp%3Bsortby%3D93%26amp%3Bsts%3Dt%26amp%3Bx%3D0%26amp%3By%3D0">abe&thinsp;books anz</a></td>
<td><a class="plain" rel="nofollow" href="http://clickserve.cc-dt.com/link/tplclick?lid=41000000024289215&amp;pubid=21000000000049036&amp;redirect=http%3A%2F%2Fwww.abebooks.co.uk%2Fservlet%2FSearchResults%3Fisbn%3D9780201622775%26amp%3Bsortby%3D93%26amp%3Bsts%3Dt%26amp%3Bx%3D0%26amp%3By%3D0">abe&thinsp;books.co.uk</a></td>
<td class="flag"><img src="../image/flag/uk.png"
alt="UK flag" width="50" height="25"></td></tr>
<tr><td class="flag"><img src="../image/flag/china.png"
alt="Chinese flag" width="50" height="33"></td>
<td><a class="outofstock" rel="nofollow" href="http://www.amazon.cn/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canamindprod-23&amp;linkCode=as2&amp;camp=536&amp;creative=3200&amp;creativeASIN=0201622777">amazon.cn</a></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.co.uk/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canadianmindp-21&amp;linkCode=as2&amp;camp=1634&amp;creative=6738&amp;creativeASIN=0201622777">amazon.co.uk</a></td>
<td class="flag"><img src="../image/flag/uk.png"
alt="UK flag" width="50" height="25"></td></tr>
<tr><td class="flag"><img src="../image/flag/germany.png"
alt="German flag" width="50" height="30"></td>
<td><a class="plain" rel="nofollow" href="http://clickserve.cc-dt.com/link/tplclick?lid=41000000024289215&amp;pubid=21000000000049036&amp;redirect=http%3A%2F%2Fwww.abebooks.de%2Fservlet%2FSearchResults%3Fisbn%3D9780201622775%26amp%3Bsortby%3D93%26amp%3Bsts%3Dt%26amp%3Bx%3D0%26amp%3By%3D0">abe&thinsp;books.de</a></td>
<td><a class="plain" rel="nofollow" href="http://clickserve.cc-dt.com/link/tplclick?lid=41000000024289215&amp;pubid=21000000000049036&amp;redirect=http%3A%2F%2Fwww.abebooks.com%2Fservlet%2FSearchResults%3Fisbn%3D9780201622775%26amp%3Bsortby%3D93%26amp%3Bsts%3Dt%26amp%3Bx%3D0%26amp%3By%3D0">abe&thinsp;books.ca</a></td>
<td class="flag"><img src="../image/flag/canada.png"
alt="Canadian flag" width="50" height="25"></td></tr>
<tr><td class="flag"><img src="../image/flag/germany.png"
alt="German flag" width="50" height="30"></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.de/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canadianmin0b-21&amp;linkCode=as2&amp;camp=1638&amp;creative=6742&amp;creativeASIN=0201622777">amazon.de</a></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.ca/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canadianmin07-20&amp;linkCode=as2&amp;camp=15121&amp;creative=330641&amp;creativeASIN=0201622777">amazon.ca</a></td>
<td class="flag"><img src="../image/flag/canada.png"
alt="Canadian flag" width="50" height="25"></td></tr>
<tr><td class="flag"><img src="../image/flag/spain.png"
alt="Spanish flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.es/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=httpmindprcom-21&amp;linkCode=as2&amp;camp=1624&amp;creative=6746&amp;creativeASIN=0201622777">amazon.es</a></td>
<td><a class="outofstock" rel="nofollow" href="http://www.chapters.indigo.ca/books/search/?keywords=9780201622775">Chapters Indigo</a></td>
<td class="flag"><img src="../image/flag/canada.png"
alt="Canadian flag" width="50" height="25"></td></tr>
<tr><td class="flag"><img src="../image/flag/spain.png"
alt="Spanish flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.iberlibro.com/servlet/SearchResults?isbn=9780201622775&amp;sortby=93&amp;sts=t&amp;x=0&amp;y=0">iberlibro.com</a></td>
<td><a class="plain" rel="nofollow" href="http://clickserve.cc-dt.com/link/tplclick?lid=41000000024289215&amp;pubid=21000000000049036&amp;redirect=http%3A%2F%2Fwww.abebooks.com%2Fservlet%2FSearchResults%3Fisbn%3D9780201622775%26amp%3Bsortby%3D93%26amp%3Bsts%3Dt%26amp%3Bx%3D0%26amp%3By%3D0">abe&thinsp;books.com</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/france.png"
alt="French flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.abebooks.fr/servlet/SearchResults?isbn=9780201622775&amp;sortby=93&amp;sts=t&amp;x=0&amp;y=0">abe&thinsp;books.fr</a></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.com/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canadianmindprod&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0201622777">amazon.com</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/france.png"
alt="French flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.fr/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=canamindprod-21&amp;linkCode=as2&amp;camp=1642&amp;creative=6746&amp;creativeASIN=0201622777">amazon.fr</a></td>
<td><a class="plain" rel="nofollow" href="http://click.linksynergy.com/fs-bin/click?id=vSCiQT/Cnuo&amp;subid=&amp;offerid=229293.1&amp;type=10&amp;tmpid=8432&amp;RD_PARM1=http%253A%252F%252Fsearch.barnesandnoble.com%252Fbooksearch%252Fisbninquiry.asp%253Fisbn%253D9780201622775">Barnes&thinsp;&amp;&thinsp;Noble</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/italy.png"
alt="Italian flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.abebooks.it/servlet/SearchResults?isbn=9780201622775&amp;sortby=93&amp;sts=t&amp;x=0&amp;y=0">abe&thinsp;books.it</a></td>
<td><a class="outofstock" rel="nofollow" href="https://play.google.com/store/search?q=9780201622775&amp;c=books">Google play</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/italy.png"
alt="Italian flag" width="50" height="33"></td>
<td><a class="plain" rel="nofollow" href="http://www.amazon.it/gp/product/0201622777/ref=as_li_tf_t1?ie=UTF8&amp;tag=httpmindprc0b-21&amp;linkCode=as2&amp;camp=3370&amp;creative=23322&amp;creativeASIN=0201622777">amazon.it</a></td>
<td><a class="outofstock" rel="nofollow" href="http://my.safaribooksonline.com/9780201622775">O&rsquo;Reilly Safari</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/india.png"
alt="India flag" width="50" height="33"></td>
<td><a class="outofstock" rel="nofollow" href="http://www.junglee.com/dp/0201622777">junglee.com</a></td>
<td><a class="outofstock" rel="nofollow" href="http://www.powells.com/partner/28995/biblio/9780201622775?p_isbn">Powells</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/un.png"
alt="UN flag" width="50" height="33"></td>
<td><a class="outofstock" rel="nofollow" href="http://click.linksynergy.com/fs-bin/click?id=vSCiQT/Cnuo&amp;subid=&amp;offerid=258189.1&amp;type=10&amp;tmpid=9387&amp;RD_PARM1=http%3A%2F%2Fwww.kobobooks.com%2Fsearch%2Fsearch.html%3Fq%3D9780201622775">Kobo</a></td>
<td><a class="outofstock" rel="nofollow" href="https://ebookstore.sony.com/search?keyword=9780201622775&amp;x=0&amp;y=0">Sony eBooks</a></td>
<td class="flag"><img src="../image/flag/usa.png"
alt="American flag" width="50" height="26"></td></tr>
<tr><td class="flag"><img src="../image/flag/un.png"
alt="UN flag" width="50" height="33"></td>
<td><a class="plain" href="http://www.google.com/search?q=The+Undocumented+PC%2C+A+Programmer+s+Guide+To+I+O%2C+CPUs%2C+and+Fixed+Memory+Areas+9780201622775+-amazon+-abebooks+-junglee+-site%3Abarnesandnoble.com+-site%3Aindigo.ca+-site%3Akobobooks.com+-site%3Apowells.com+-site%3Asafaribooksonline.com+-site%3Asony.com">other stores</a></td>
<td></td><td></td></tr></tbody></table></td></tr>
<tr><td class="unobtrusive" align="center" colspan="5">Greyed out stores probably do not have the item in stock. Try looking for it with a <a class="jgloss" href="../jgloss/bookfinder.html">bookfinder</a>.</td></tr></tbody></table>
<!-- end Book referral for The Undocumented PC, A Programmer&rsquo;s Guide To I/O, CPUs, and Fixed Memory Areas --><!-- /generated by Insert --><!-- macro Foot --><!-- generated --><!-- ==== F O O T ====o==== F O O T ====o==== F O O T ====o==== F O O T ==== --><hr class="foot">
<table class="borderless" summary="standard footer"><tbody><tr><td><a id="BOTTOM"></a>
<a class="plain" href="../index.html#TITLE"><img src="../image/navigate/home.png"
alt="CMP home" width="24" height="24" align="middle"></a><a class="plain" href="#TOP"><img src="../image/navigate/totop.png"
alt="jump to top" width="22" height="22" align="middle"></a></td>
<td class="middle"><p class="alignedright"><span class="unobtrusive">available on the web at:</span></p></td>
<td class="middle"><a class="url" href="http://mindprod.com/utility/cmossave.manual.html">http://mindprod.com/utility/cmossave.manual.html</a></td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td class="middle"><p class="alignedright"><span class="unobtrusive">optional Replicator mirror
<br>
of mindprod.com
<br>
on local hard disk <a class="unobtrusive" href="../jgloss/jdrive.html"><span class="drive">J:</span></a></span></p></td>
<td class="middle"><a class="jdrive" href="file://localhost/J:/mindprod/utility/cmossave.manual.html">J:\mindprod\utility\cmossave.manual.html</a></td></tr>
<tr><td><a class="plain" href="../index.html#TITLE"><img src="../image/logo/cmpmartylogomid.png"
alt="logo" width="89" height="113" align="middle"></a></td>
<td colspan="2"><div class="pleasefeedback">Please email your
<a class="feedback" href="../feedback/feedback.html">feedback for publication</a>,
letters to the editor, errors, omissions, typos, formatting errors, ambiguities, unclear
wording, broken/redirected link reports, suggestions to improve this page or comments to
<a class="plain" href="../contact/contact.html">Roedy Green</a> :
<img class="mailto" src="../image/mailto/feedback.png"
alt="feedback email" width="209" height="22">.
If you want your message, your name or email kept confidential,
not considered for public posting, please explicitly specify that.
Unless you state otherwise,
I will treat your message as a letter to the editor that I may or may not publish
in the
<a class="plain" href="../feedback/feedback.html">feedback</a> section.
After that, it will be too late to retract it.
If you disagree with something I said, especially when sending an ad-hominem attack,
a rant composed mainly of obscenities or a death threat, please quote the offending passage
and cite the web page where you found it, tell me <strong>why</strong> you think it is wrong,
and, if possible, provide some supporting evidence.
I can&rsquo;t very well fix erroneous or ambiguous text if I can&rsquo;t find it.</div></td></tr>
<tr><td><a class="blogger" href="http://newbiejava.blogspot.ca/">Blog</a></td>
<td><span style="white-space:nowrap;"><span class="logo"><span class="logocaps">C</span>anadian
<span class="logocaps">M</span>ind
<span class="logocaps">P</span>roducts</span>
<br>
IP:[<span class="ip">65.110.21.43</span>]
<br>
Your face IP:[<span class="ip"><!--#echo var="REMOTE_ADDR"--></span>]</span></td>
<td rowspan="2"><div class="googleadfoot"><script type="text/javascript">
google_ad_client="ca-pub-7275336356867641";
google_ad_slot="5284935692";
google_ad_width=728;
google_ad_height=90;
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div></td></tr>
<tr><td><a class="feedback" href="../feedback/feedback.html">Feedback</a></td>
<td><span class="unobtrusive">You are visitor number</span>
<span class="hitcount"><!--#exec cgi="/perl/count.pl"--></span>.</td></tr>
<tr><td colspan="3">The information on this page is for non-military use only.<br>Military use includes use by defence contractors.</td></tr></tbody></table></body></html>
<!-- /generated by Foot -->